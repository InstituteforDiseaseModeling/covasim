{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external \"Plotly\"","webpack:///./cova_app.js","webpack:///./cova_app.css"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Plotly","use","PlotlyChart","props","h","attrs","id","this","graph","$nextTick","x","JSON","parse","json","responsive","react","interventionTableConfig","social_distance","formTitle","fields","type","label","options","handleSubmit","event","start","parseInt","target","elements","end","level","school_closures","symptomatic_testing","contact_tracing","copyright_year","current_year","Date","getFullYear","range","join","onsuccess","onerror","vm","el","components","app","title","version","github_url","panel_open","panel_width","resizing","history","historyIdx","sim_length","best","max","min","sim_pars","epi_pars","input","blob","remote_file","intervention_pars","intervention_figs","show_animation","graphs","summary","files","paramError","scenarioError","running","err","reset_options","reset_choice","get_version","resetPars","watchSimLengthParam","filters","to2sf","Number","toFixed","computed","isRunDisabled","console","log","keys","methods","scenarioKey","intervention","self","$set","some","sort","a","b","response","rpc","index","$delete","e","stopPropagation","preventDefault","clientX","innerWidth","$options","status","stringify","setupFormWatcher","paramKey","params","forEach","$watch","validateParam","deep","param","fileName","getMonth","getDate","getHours","getMinutes","getSeconds","fileToSave","Blob","upload","error","fail","upload_input_data","filepath","FormData","append","undefined","fetch","then","ok","Error","text","remote_filepath","trim","replace","catch","warn","res","xlsx","content","filename","locals","add","default"],"mappings":"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","file":"app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([94,\"vendor\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports = Plotly;","import './cova_app.css';\nimport Vue from 'vue';\nimport { CardPlugin, NavbarPlugin, ButtonPlugin, SidebarPlugin, ModalPlugin, TooltipPlugin, TabsPlugin, FormFilePlugin } from 'bootstrap-vue';\nimport sciris from 'sciris-js';\nimport { saveAs } from 'file-saver';\nimport Plotly from 'plotly';\n\nVue.use(CardPlugin);\nVue.use(TabsPlugin);\nVue.use(NavbarPlugin);\nVue.use(ButtonPlugin);\nVue.use(SidebarPlugin);\nVue.use(ModalPlugin);\nVue.use(TooltipPlugin);\nVue.use(FormFilePlugin);\n\nconst PlotlyChart = {\n    props: ['graph'],\n    render(h) {\n        return h('div', {\n            attrs: {\n                id: this.graph.id,\n            }\n        });\n    },\n\n    mounted() {\n        this.$nextTick(function () {\n            let x = JSON.parse(this.graph.json);\n            x.responsive = true;\n            Plotly.react(this.graph.id, x);\n        }\n        );\n    },\n    updated() {\n        this.$nextTick(function () {\n            let x = JSON.parse(this.graph.json);\n            x.responsive = true;\n            Plotly.react(this.graph.id, x);\n        });\n    }\n};\n\nconst interventionTableConfig = {\n    social_distance: {\n        formTitle: \"Social Distancing\",\n        fields: [{key: 'start', type: 'number', label: 'Start Day'},\n            {key: 'end', type: 'number', label: 'End Day'},\n            {label: 'Effectiveness', key: 'level', type: 'select', options: [{label: 'Aggressive Effectiveness', value: 'aggressive'}, {label: 'Moderate Effectiveness', value: 'moderate'}, {label: 'Mild Effectiveness', value: 'mild'}]}],\n        handleSubmit: function(event) {\n            const start = parseInt(event.target.elements.start.value);\n            const end = parseInt(event.target.elements.end.value);\n            const level = event.target.elements.level.value;\n            return {start, end, level};\n        }\n    },\n    school_closures: {\n        formTitle: \"School Closures\",\n        fields: [{key: 'start', type: 'number', label: 'Start Day'}, {key: 'end', type: 'number', label: 'End Day'}],\n        handleSubmit: function(event) {\n            const start = parseInt(event.target.elements.start.value);\n            const end = parseInt(event.target.elements.end.value);\n            return {start, end};\n        }\n    },\n    symptomatic_testing: {\n        formTitle: \"Symptomatic Testing\",\n        fields: [{key: 'start', type: 'number', label: 'Start Day'}, {key: 'end', type: 'number', label: 'End Day'}, {label: 'Accuracy', key: 'level', type: 'select', options: [{label: '60% Accuracy', value: '60'}, {label: '90% Accuracy', value: '90'},]}],\n        handleSubmit: function(event) {\n            const start = parseInt(event.target.elements.start.value);\n            const end = parseInt(event.target.elements.end.value);\n            const level = parseInt(event.target.elements.level.value);\n            return {start, end, level};\n        }\n    },\n    contact_tracing: {\n        formTitle: \"Contact Tracing\",\n        fields: [{key: 'start', type: 'number', label: 'Start Day'}, {key: 'end', type: 'number', label: 'End Day'}],\n        handleSubmit: function(event) {\n            const start = parseInt(event.target.elements.start.value);\n            const end = parseInt(event.target.elements.end.value);\n            return {start, end};\n        }\n  }\n\n};\n\nfunction copyright_year() {\n    const release_year = 2020\n    const current_year = new Date().getFullYear()\n    let range = [release_year]\n\n    if (current_year > release_year){\n        range.push(current_year)\n    }\n\n    return range.join(\"-\")\n}\n\nfunction generate_upload_file_handler(onsuccess, onerror) {\n    return function(e){\n            let files = e.target.files;\n            if (files.length > 0){\n                const data = new FormData();\n                data.append('uploadfile', files[0])\n                data.append('funcname', 'upload_file')\n                data.append('args', undefined)\n                data.append('kwargs', undefined)\n                fetch(\"/api/rpcs\", {\n                  \"body\": data,\n                  \"method\": \"POST\",\n                  \"mode\": \"cors\",\n                  \"credentials\": \"include\"\n                }).then(response => {\n                    if(!response.ok){\n                        throw new Error(response.json())\n                    }\n                    return response.text()\n                }).then(data => {\n                    remote_filepath = data.trim()\n                                        .replace(/[\"]/g, \"\")\n                    onsuccess(remote_filepath)\n                })\n                .catch(error => {\n                    if (onerror){\n                        sciris.fail(this, \"Could not upload file.\", error)\n                    } else {\n                        onerror(error)\n                    }\n                })\n            } else {\n                console.warn(\"No input file selected.\")\n            }\n        }\n}\n\nvar vm = new Vue({\n    el: '#app',\n\n    components: {\n        'plotly-chart': PlotlyChart,\n    },\n\n    data() {\n        return {\n            app: {\n                title: \"COVASim\",\n                version: 'Unable to connect to server!', // This text will display instead of the version\n                copyright_year: copyright_year(),\n                github_url: \"https://github.com/institutefordiseasemodeling/covasim\"\n            },\n            panel_open: true,\n            panel_width: null,\n            resizing: false,\n            history: [],\n            historyIdx: 0,\n            sim_length: {\n                best: 90,\n                max: 180,\n                min: 1\n            },\n            sim_pars: {},\n            epi_pars: {},\n            input: {\n                blob: null,\n                remote_file: null\n            },\n            intervention_pars: {},\n            intervention_figs: {},\n            show_animation: false,\n            result: { // Store currently displayed results\n                graphs: [],\n                summary: {},\n                files: {},\n            },\n            paramError: {},\n            scenarioError: {},\n            interventionTableConfig,\n            running: false,\n            err: '',\n            reset_options: ['Example'],//, 'Seattle', 'Wuhan', 'Global'],\n            reset_choice: 'Example'\n        };\n    },\n\n    async created() {\n        this.get_version();\n        this.resetPars();\n        this.watchSimLengthParam();\n    },\n\n    filters: {\n        to2sf(value) {\n            return Number(value).toFixed(2);\n        }\n    },\n\n    computed: {\n        isRunDisabled: function () {\n            console.log(this.paramError);\n            return this.paramError && Object.keys(this.paramError).length > 0;\n        }\n    },\n\n    methods: {\n        async addIntervention(scenarioKey, event) {\n            const intervention = this.interventionTableConfig[scenarioKey].handleSubmit(event);\n            const key = scenarioKey;\n            const self = this\n            if (!this.intervention_pars[key]) {\n                this.$set(this.intervention_pars, key, []);\n            }\n            // validate intervention\n            const notValid = !intervention.end || !intervention.start || intervention.end <= intervention.start || this.intervention_pars[key].some(({start, end}) => {\n                return start <= intervention.start && end >= intervention.start ||\n                    start <= intervention.end && end >= intervention.end ||\n                    intervention.start <= start && intervention.end >= end;\n            });\n            if (notValid) {\n                this.$set(this.scenarioError, scenarioKey, `Please enter a valid day range`);\n                return;\n            }\n            // Check that\n            const outOfBounds = intervention.start > this.sim_length.best || intervention.end > this.sim_length.best || this.intervention_pars[key].some(({start, end}) => {\n                return start > self.sim_length.best || end > self.sim_length.best\n            })\n            if (outOfBounds){\n                this.$set(this.scenarioError, scenarioKey, `Intervention cannot start or end after the campaign duration.`)\n                return;\n            }\n            this.$set(this.scenarioError, scenarioKey, '');\n\n            this.intervention_pars[key].push(intervention);\n            const result = this.intervention_pars[key].sort((a, b) => a.start - b.start);\n            this.$set(this.intervention_pars, key, result);\n            const response = await sciris.rpc('get_gnatt', [this.intervention_pars, this.interventionTableConfig]);\n            this.intervention_figs = response.data;\n        },\n        async deleteIntervention(scenarioKey, index) {\n            this.$delete(this.intervention_pars[scenarioKey], index);\n            const response = await sciris.rpc('get_gnatt', [this.intervention_pars, this.interventionTableConfig]);\n            this.intervention_figs = response.data;\n        },\n\n        open_panel() {\n            this.panel_open = true;\n        },\n        close_panel() {\n            this.panel_open = false;\n        },\n        resize_start() {\n            this.resizing = true;\n        },\n        resize_end() {\n            this.resizing = false;\n        },\n        resize_apply(e) {\n            if (this.resizing) {\n                // Prevent highlighting\n                e.stopPropagation();\n                e.preventDefault();\n                this.panel_width = (e.clientX / window.innerWidth) * 100;\n            }\n        },\n\n        async get_version() {\n            const response = await sciris.rpc('get_version');\n            this.app.version = response.data;\n        },\n\n        async runSim() {\n            this.running = true;\n            // this.graphs = this.$options.data().graphs; // Uncomment this to clear the graphs on each run\n            this.err = this.$options.data().err;\n\n            console.log(this.status);\n            console.log(this.sim_pars, this.epi_pars);\n\n            // Run a a single sim\n            try {\n                if(this.input.blob === null){\n                    this.input.remote_file = null\n                }\n                const response = await sciris.rpc('run_sim', [this.sim_pars, this.epi_pars, this.intervention_pars, this.input.remote_file, this.show_animation, this.sim_length.best]);\n                this.result.graphs = response.data.graphs;\n                this.result.files = response.data.files;\n                this.result.summary = response.data.summary;\n                this.err = response.data.err;\n                this.panel_open = !!this.err;\n                this.sim_pars = response.data.sim_pars;\n                this.epi_pars = response.data.epi_pars;\n                this.history.push(JSON.parse(JSON.stringify({ sim_pars: this.sim_pars, epi_pars: this.epi_pars, result: this.result })));\n                this.historyIdx = this.history.length - 1;\n\n            } catch (e) {\n                this.err = 'Error running model: ' + e;\n            }\n            this.running = false;\n\n        },\n\n        async resetPars() {\n            const response = await sciris.rpc('get_defaults', [this.reset_choice]);\n            this.sim_pars = response.data.sim_pars;\n            this.epi_pars = response.data.epi_pars;\n            this.setupFormWatcher('sim_pars');\n            this.setupFormWatcher('epi_pars');\n            this.graphs = [];\n            this.input = {\n                blob: null,\n                remote_file: null\n            }\n        },\n        setupFormWatcher(paramKey) {\n            const params = this[paramKey];\n            if (!params) {\n                return;\n            }\n            Object.keys(params).forEach(key => {\n                this.$watch(`${paramKey}.${key}`, this.validateParam(key), { deep: true });\n            });\n        },\n        watchSimLengthParam() {\n            this.$watch('sim_length', this.validateParam('sim_length'), { deep: true });\n        },\n        validateParam(key) {\n            return (param) => {\n                if (param.best <= param.max && param.best >= param.min) {\n                    this.$delete(this.paramError, key);\n                } else {\n                    this.$set(this.paramError, key, `Please enter a number between ${param.min} and ${param.max}`);\n                }\n            };\n        },\n\n        async downloadPars() {\n            const d = new Date();\n            const datestamp = `${d.getFullYear()}-${d.getMonth()}-${d.getDate()}_${d.getHours()}.${d.getMinutes()}.${d.getSeconds()}`;\n            const fileName = `COVASim_parameters_${datestamp}.json`;\n\n            // Adapted from https://stackoverflow.com/a/45594892 by Gautham\n            const data = {\n                sim_pars: this.sim_pars,\n                epi_pars: this.epi_pars,\n            };\n            const fileToSave = new Blob([JSON.stringify(data, null, 4)], {\n                type: 'application/json',\n                name: fileName\n            });\n            saveAs(fileToSave, fileName);\n        },\n\n        async uploadPars() {\n            try {\n                const response = await sciris.upload('upload_pars');  //, [], {}, '');\n                this.sim_pars = response.data.sim_pars;\n                this.epi_pars = response.data.epi_pars;\n                this.graphs = [];\n            } catch (error) {\n                sciris.fail(this, 'Could not upload parameters', error);\n            }\n        },\n        upload_input_data: generate_upload_file_handler(function(filepath){\n            vm.input.remote_file = filepath\n        }),\n        clear_input_data() {\n            this.input = {\n                blob: null,\n                remote_file: null\n            }\n        },\n        loadPars() {\n            this.sim_pars = this.history[this.historyIdx].sim_pars;\n            this.epi_pars = this.history[this.historyIdx].epi_pars;\n            this.result = this.history[this.historyIdx].result;\n        },\n\n        async downloadExcel() {\n            const res = await fetch(this.result.files.xlsx.content);\n            const blob = await res.blob();\n            saveAs(blob, this.result.files.xlsx.filename);\n        },\n\n        async downloadJson() {\n            const res = await fetch(this.result.files.json.content);\n            const blob = await res.blob();\n            saveAs(blob, this.result.files.json.filename);\n        },\n\n    },\n\n});\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./cova_app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!./node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7ce39bb0\", content, false, {});\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./cova_app.css\", function() {\n     var newContent = require(\"!!./node_modules/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js!./cova_app.css\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}"],"sourceRoot":""}